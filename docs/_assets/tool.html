<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>格式快速转换工具</title>
    <style>
        body {
            display: flex;
            flex-direction: row;
        }

        #source,
        #output-area {
            width: 50%;
            height: 100%;
        }

        #start {
            width: 100%;
        }

        textarea {
            font-family: Maple Mono NF CN;
            background-color: #202020;
            color: #e0e0e0;
            resize: none;
            width: 100%;
            font-family: Maple Mono NF CN Light;
            font-feature-settings: 'calt', 'ss03', 'ss05', 'ss07', 'ss08', 'zero';
        }
    </style>
</head>

<body>
    <textarea id="source" placeholder="在这里填入需要转换的文档内容" rows="41"></textarea>
    <div id="output-area">
        <button id="start">开始</button>
        <textarea id="output" readonly placeholder="这里是输出结果" rows="40"></textarea>
    </div>
    <script>
        const iconTagMap = {
            "method": "method",
            "genericMethod": "method.generic",
            "readonlyMethod": "method.protected",
            "inheritedMethod": "method.inherited",
            "eventArg": "event",
            "function": "function",
            "arg": "arg",
            "privateArg": "arg.private",
            "hiddenArg": "arg.hidden",
            "property": "property",
            "readonly": "property.protected",
            "inherited": "property.inherited",
            "privateProperty": "property.private",
            "hiddenProperty": "property.hidden",
            "hiddenReadonly": "property.protected hidden",
            "readonlyInherited": "property.protected inherited hidden",
            "hiddenInherited": "property.inherited hidden",
            "privateInherited": "property.inherited private",
            "hiddenMethod": "method.hidden",
            "privateMethod": "method.private",
            "object": "object",
            "privateObject": "object.private",
            "hiddenObject": "object.hidden",
            "constructor": "constructor",
            "privateConstructor": "constructor.private",
            "hiddenConstructor": "constructor.hidden",
            "interface": "interface",
            "hiddenInterface": "interface.hidden",
            "privateInterface": "interface.private",
            "class": "class",
            "privateClass": "class.private",
            "hiddenClass": "class.hidden",
            "const": "variable.protected",
            "constObject": "object.protected",
            "privateConst": "variable.private",
            "hiddenConst": "variable.hidden",
            "staticMethod": "staticMethod",
            "privateStaticMethod": "staticMethod.private",
            "hiddenStaticMethod": "staticMethod.hidden",
            "inheritedEvent": "event.inherited",
            "enumMember": "enumMember",
            "privateEnumMember": "enumMember.private",
            "hiddenEnumMember": "enumMember.hidden",
            "enum": "enum",
            "privateEnum": "enum.private",
            "hiddenEnum": "enum.hidden",
            "variable": "variable",
            "type": "type",
            "privateType": "type.private",
            "hiddenType": "type.hidden",
            "typeArg": "type",
            "keyword": "keyword",
            "callback": "callback",
            "callbackArg": "callbackArg",
            "getter": "getter",
            "setter": "setter",
            "accessor": "accessor",
            "index": "index",
            "indexArg": "indexArg"
        }, defs = [
            "any",
            "object",
            "Record",
            "Tuple",
            "Promise",
            "Map",
            "ArrayBuffer",
            "ReadonlyArray",
            "URL",
            "Array",
            "setTimeout",
            "setInterval",
            "clearTimeout",
            "clearInterval",
            "Symbol",
            "Function",
            "RegExp",
            "Date",
            "GameResourceSystem",
            "Box3TickEvent",
            "GameTickEvent",
            "world",
            "Box3World",
            "GameWorld",
            "Box3Entity",
            "GameEntity",
            "Box3PlayerEntity",
            "GamePlayerEntity",
            "Box3Player",
            "GamePlayer",
            "Box3Zone",
            "GameZone",
            "Box3ClickEvent",
            "GameClickEvent",
            "Box3EventChannel",
            "GameEventChannel",
            "Box3EventFuture",
            "GameEventFuture",
            "Box3RespawnEvent",
            "GameRespawnEvent",
            "Partial",
            "Box3EntityConfig",
            "GameEntityConfig",
            "Box3Vector3",
            "GameVector3",
            "Box3SelectorString",
            "GameSelectorString",
            "Box3RaycastOptions",
            "GameRaycastOptions",
            "Box3RaycastResult",
            "GameRaycastResult",
            "Box3Bounds3",
            "GameBounds3",
            "Box3Quaternion",
            "GameQuaternion",
            "Box3ButtonType",
            "GameButtonType",
            "Box3AnimationPlaybackConfig",
            "GameAnimationPlaybackConfig",
            "Box3Animation",
            "GameAnimation",
            "Box3WorldKeyframe",
            "GameWorldKeyframe",
            "Box3EntityKeyframe",
            "GameEntityKeyframe",
            "Box3PlayerKeyframe",
            "GamePlayerKeyframe",
            "Box3AnimationPlaybackState",
            "GameAnimationPlaybackState",
            "Box3AnimationDirection",
            "GameAnimationDirection",
            "Box3Easing",
            "GameEasing",
            "Box3RGBColor",
            "Box3RGBAColor",
            "GameRGBColor",
            "GameRGBAColor",
            "Box3SoundEffect",
            "GameSoundEffect",
            "GameMotionController",
            "GameMotionConfig",
            "GameMotionClipConfig",
            "GameMotionHandler",
            "GameMotionEvent",
            "Box3CameraMode",
            "GameCameraMode",
            "Box3CameraFreezedAxis",
            "GameCameraFreezedAxis",
            "Box3DamageEvent",
            "GameDamageEvent",
            "Box3DieEvent",
            "GameDieEvent",
            "Box3PlayerEntityEvent",
            "GamePlayerEntityEvent",
            "Box3EntityEvent",
            "GameEntityEvent",
            "Box3ChatEvent",
            "GameChatEvent",
            "Box3InputEvent",
            "GameInputEvent",
            "GameKeyBoardEvent",
            "Box3EntityContactEvent",
            "GameEntityContactEvent",
            "Box3VoxelContactEvent",
            "GameVoxelContactEvent",
            "Box3InteractEvent",
            "GameInteractEvent",
            "Box3FluidContactEvent",
            "GameFluidContactEvent",
            "Box3TriggerEvent",
            "GameTriggerEvent",
            "Box3AnimationEvent",
            "GameAnimationEvent",
            "GamePurchaseSuccessEvent",
            "GameSkin",
            "GameSkinValue",
            "Box3SkinInvisible",
            "GameSkinInvisible",
            "Box3InputDirection",
            "GameInputDirection",
            "Box3PlayerMoveState",
            "GamePlayerMoveState",
            "Box3PlayerWalkState",
            "GamePlayerWalkState",
            "Box3DialogType",
            "GameDialogType",
            "Box3DialogSelectResponse",
            "GameDialogSelectResponse",
            "Box3DialogParams",
            "GameDialogParams",
            "Box3TextDialogParams",
            "GameTextDialogParams",
            "Box3SelectDialogParams",
            "GameSelectDialogParams",
            "Box3InputDialogParams",
            "GameInputDialogParams",
            "Box3DialogCancelOption",
            "GameDialogCancelOption",
            "Box3DialogCall",
            "GameDialogCall",
            "Box3AssetListEntry",
            "GameAssetListEntry",
            "Box3AssetType",
            "GameAssetType",
            "Box3ZoneConfig",
            "GameZoneConfig",
            "Box3EventHandlerToken",
            "GameEventHandlerToken",
            "Box3Database",
            "GameDatabase",
            "Box3QueryResult",
            "GameQueryResult",
            "GameStorage",
            "GameDataStorage",
            "QueryList",
            "ListPageOptions",
            "ReturnValue",
            "JSONValue",
            "db",
            "storage",
            "gui",
            "GameGUI",
            "GameGUIEventListener",
            "GUIConfig",
            "GUIConfigItem",
            "GameGUIEvent",
            "rtc",
            "GameRTC",
            "GameRTCChannel",
            "http",
            "Box3HttpAPI",
            "GameHttpAPI",
            "Box3HttpFetchParams",
            "GameHttpFetchRequestOptions",
            "Box3HttpFetchResponse",
            "GameHttpFetchResponse",
            "GameHttpFetchHeaders",
            "Box3HttpHandler",
            "GameHttpHandler",
            "Box3HttpRequest",
            "GameHttpRequest",
            "Box3HttpResponse",
            "GameHttpResponse",
            "console",
            "GameConsole",
            "Box3LoggerMethod",
            "GameLoggerMethod",
            "Box3EntityContact",
            "GameEntityContact",
            "Box3VoxelContact",
            "GameVoxelContact",
            "Box3FluidContact",
            "GameFluidContact",
            "Box3HurtOptions",
            "GameHurtOptions",
            "Box3Wearable",
            "GameWearable",
            "Box3Voxels",
            "GameVoxels",
            "voxels",
            "Box3BodyPart",
            "GameBodyPart",
            "ServerRemoteChannel",
            "ClientRemoteChannel",
            "SendClientEventType",
            "ServerEvent",
            "PlayerNavigator",
            "SocialType",
            "NavigatorEventType",
            "Sound",
            "TELEPORT_ERROR_STATUS",
            "TeleportType",
            "TeleportResult",
            "UiNode",
            "UiRenderable",
            "UiBox",
            "UiImage",
            "UiText",
            "UiInput",
            "ui",
            "input",
            "InputSystem",
            "UiScale",
            "Vec2",
            "Vec3",
            "Coord2",
            "PointerEventBehavior",
            "screenWidth",
            "screenHeight",
            "EventEmitter",
            "UiComponent",
            "UiNodeEvents",
            "PointerLockEvents",
            "PointerLockChangeEvent",
            "UiEvent",
            "UiInputEvent",
            "UiInputEvents",
            "ClientRemoteChannelEvents",
            "void",
            "number",
            "string",
            "boolean",
            "null",
            "undefined"
        ];
        function change() {
            let sourceText = document.getElementById("source").value;
            document.getElementById("output").value = sourceText.replace(/\[\]\((\w+)\)/g, (match, p) => {
                if (defs.includes(p))
                    return `<docs-def>${p}</docs-def>`;
                else
                    return match;
            }).replace(/\[(\w+)\]\((\w+)\)/g, (match, p1, p2) => {
                return `<docs-icon icon="${iconTagMap[p2]}">${p1}</docs-icon>`
            }).replace(/\<(\w+)\>(\w+)<\/(\w+)\>/g, (match, p1, p2, p3) => {
                if (iconTagMap[p1] && p1 === p3)
                    return `<docs-icon icon="${iconTagMap[p1]}">${p2}</docs-icon>`;
                else
                    return match;
            }).replace(/\<def\>(\w+)<\/def\>/g, (match, p) => {
                return `<docs-def>${p}</docs-def>`;
            });
            console.log("完成！");
        }
        document.getElementById("start").addEventListener("click", change);
    </script>
</body>

</html>